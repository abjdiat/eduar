<!DOCTYPE html>
<html  lang="ar" >
<link rel="stylesheet" media="screen" href="1" type="text/css"/>
<style>
body{text-align:center;   font-family: 'DroidArabicNaskhRegular';font-weight:bolder;
   font-weight: normal;
   font-style: normal;background-color: #c2c6b3;
padding:20px;margin:30px}
ul{float:right;width:50%;height: 100%}

li{font-size:40pt;width:150px;height:150px;display:block;padding:10px;margin:10px;background:#dad295;text-align:center;border:5px solid #717845;}
div#images   {display: block;
    height: 100%;
    vertical-align: middle;
  }
img{float:right;width:200px;height:180px;border:10px solid #484111;margin:10px;padding:10px;}
.frame {
    height: 150px;      /* equals max image height */
    width: 160px;
    border: 1px solid red;
    white-space: nowrap;
    
    text-align: center; margin: 1em 0;
}

.helper {
    display: inline-block;
    height: 100%;
    vertical-align: middle;
}

img {
    background: #3A6F9A;
    vertical-align: middle;
    max-height:150px;
    max-width: 160px;
}
</style>

<script charset="utf-8">
const queryString = window.location.search;

    const urlParams = new URLSearchParams(queryString);
    const lvl = urlParams.get('lvl');
const words_to_display = urlParams.get('wds');
   
  var animals_en=["horse","sheep","camel","wolf","fish","snake","kangaroo","penguin","bear","dog","duck","cat","turkey",
                  "fox","mouse","goat","shrimp","elephant","giraffe","frog","ant","owl","donkey","chicken","bee",
                  "tiger","turtle","banana","apple","cherry","lemon","grapes","tomatoes","onion","pepper","orange",
                  "eggplant","watermelon","carrots","corn","cow","candle","bag","strawberry","keys","arrow","cup","ball",
                  "car","ship","truck","train","airplane","notebook","book","boy","girl","grandfather","grandmother",
                  "father","mother","nose","mouth","eye","sun","moon",'luna',"cloud","umbrella","shoe","camera","cactus",
                 "pen","flag","table","hat","nut","doctor","teacher","chef","cop","engineer","castle","bucket","think","lie","jump","red","white","black","pink","leaf","gift","box","jump","swim","paint","hold","pull","sleep","throw","walk","climb","push","sit","shell","right","left","hair","door","one","two","three","four","five","six","seven","eight","nine","milk","juice","court","blanket","drum","butterfly","garden","run","write","water","drive","kick","eat","knife","knock"

                

            
                 ];

var animals_ar=["حِصَانٌ","خروف","جمل","ذئب","سمكة"
                ,"ثعبان","كنغر","بطريق","دب","كلب","بطة","قطة","ديك","ثعلب","فأر","معزة","ربيان","فيل","زرافة","ضفدع","نملة","بومة","حمار"
                ,"دجاجة","نحلة","نمر","سلحفاة","موز","تفاح","كرز","ليمون","عنب","طماطم","بصل","فلفل","برتقال","باذنجان","بطيخ","جزر"
                ,"ذرة","بقرة","شمعة","كيس","فراولة","مفاتيح","سهم","كوب","كرة","سيارة","سفينة","شاحنة","قطار","طائرة","دفتر","كتاب"
                ,"ولد","بنت"
                ,"جد","جدة","أب","أم","أنف","فم","عين","شمس","قمر",'هلال',"غيمة","مظلة","حذاء","كامرا","صبار",
                "قلم","علم","طاولة","قبعة","جوز","طبيب","معلمة","طباخ","شرطي","مهندس","قلعة","دلو","يفكر","تكذب","تقفز","أحمر","أبيض","أسود","وردي","ورقة"
                ,"هدية","صندوق","يقفز","يسبح","يلون","يمسك","يسحب","ينام","يرمي","يمشي","يتسلق","يدفع","يجلس","صدفة","يمين","يسار","شعر" ,"باب" ,"واحد","اثنان","ثلاثة","أربعة","خمسة","ستة","سبعة","ثمانية","تسعة","حليب","عصير","ملعب","بطانية","طبل","فراشة","حديقة","يجري","تكتب","تسقي","تقود","تركل","تأكل","سكين","يطرق"
];

var delay = ( function() {
    var timer = 0;
    return function(callback, ms) {
        clearTimeout (timer);
        timer = setTimeout(callback, ms);
    };
})();

var nums=Array(animals_ar.length);
for (var f=0;f<nums.length;f++){
nums[f]=f;

}


var countee = 0;
function counttrue(){
    
countee=countee+1;
if (countee == words_to_display){
  delay(function(){
  window.location.reload(true)
}, 1000 )
    }
  }
function dragstart_handler(ev) {
 console.log("dragStart");
 // Change the source element's background color to signify drag has started
 // Set the drag's format and data. Use the event target's id for the data
 
 ev.dataTransfer.setData("text/plain", ev.target.id);
 }

function dragover_handler(ev) {
 console.log("dragOver");
 ev.preventDefault();
}

function drop_handler(ev) {
 console.log("Drop");
 ev.preventDefault();
 // Get the data, which is the id of the drop target
 var data = ev.dataTransfer.getData("text");
 if (ev.target.id == data+"target") {
//document.getElementById(data).style.display = 'none';
ev.currentTarget.style.border = "10px solid green";
var x = document.getElementById("myAudio"); 
x.play();

counttrue();
 // Clear the drag data cache (for all formats/types)
 //ev.dataTransfer.clearData();

}
else {
ev.currentTarget.style.border = "solid red";}
var x2 = document.getElementById("myAudio2"); 
x2.play();

}
function shuffleArray(array) {
  let curId = array.length;
  // There remain elements to shuffle
  while (0 !== curId) {
    // Pick a remaining element
    let randId = Math.floor(Math.random() * curId);
    curId -= 1;
    // Swap it with the current element.
    let tmp = array[curId];
    array[curId] = array[randId];
    array[randId] = tmp;
  }
  return array;
}
shuffleArray(nums);
ltm=animals_ar[Math.floor(Math.random() * words.length)][0]
function word3(b){
  b=lvl;
threelwords=new Array()
threelwordse=new Array();
nums.forEach(function item(a){if(animals_ar[a].length==b && animals_ar[a][0]==ltm){threelwords.push(animals_ar[a]);threelwordse.push(animals_en[a])}}
  );


}
word3();

var nums2=Array(threelwords.length);
for (var f=0;f<nums2.length;f++){
nums2[f]=f;

}

function word4(){
  words_ar=[
  [],
  [],
  [],
  []
];

  imgs_en=new Array();
  var i=0;
var num =4;
while (i<4){
  words_ar[i][0]=threelwords[nums2[i]];
  words_ar[i][1]=threelwordse[nums2[i]];
  imgs_en[i]=threelwordse[nums2[i]];
  i++ ;
}
}
word4();
shuffleArray(words_ar)
function newElement() {
let i =0;
while(i<words_to_display){

  var li = document.createElement("li"); 

  var inputValue = words_ar[i][0];
  //if(inputValue.length == 4 ){
  li.id=words_ar[i][1];

  li.setAttribute("draggable","true");
  li.setAttribute("ondragstart"," dragstart_handler(event)");
  var t = document.createTextNode(inputValue);
  li.appendChild(t);

    document.getElementById("animals").appendChild(li);
i++;}
  }
//}
shuffleArray(words_ar);
shuffleArray(imgs_en);

function newimg() {
let i =0;
while(i<4){

  var li = document.createElement("img");


  var inputValue = imgs_en[i]+".jpg"
  li.id=imgs_en[i]+"target";
    li.setAttribute("src",inputValue);
  li.setAttribute("ondrop","drop_handler(event)");
  li.setAttribute("ondragover","dragover_handler(event)");
  var t = document.createTextNode(inputValue);
  li.appendChild(t);

    document.getElementById("images").appendChild(li);

i++;
  }
}
</script>

<body>
<audio id="myAudio">
  
  <source src="bravo.m4a" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>
<audio id="myAudio2">
  <source src="error.m4a" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>
<div>

<ul id=animals>
  <script>
    newElement();
  </script>
  
            </ul></div>
   
   <div id='images'>
  <script>newimg()</script>
   </div>


</body>
</html> 
